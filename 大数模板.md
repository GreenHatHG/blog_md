---
title: 大数模板
date: 2018-11-22 11:22:16
tags:
---

大数四则运算模板

 <!-- more -->

参考：

[https://www.xuebuyuan.com/1860973.html](https://www.xuebuyuan.com/1860973.html)

# 大数加法

```c++
#include <iostream>
#include <string>
using namespace std;

const int MAXN = 1e6;
int ia[MAXN];
int ib[MAXN];
int ans[MAXN];

int main()
{
    string sa, sb;
    cin >> sa >> sb;
    int la = sa.size();
    int lb = sb.size();
    int ml = la > lb ? la : lb;
    for(int i = 0; i < la; i++)
        ia[i] = sa[la - i - 1] - '0';
    for(int i = 0; i < lb; i++)
        ib[i] = sb[lb - i - 1] - '0';
    int next = 0;
    for(int i = 0; i < ml; i++)
    {
        ans[i] = (ia[i] + ib[i] + next) % 10;
        next = (ia[i] + ib[i] + next) / 10;
    }
    if(next > 0)
        cout << next;
    for(int i = ml - 1; i >= 0; i--)
        cout << ans[i];
    return 0;
}
```

# 大数减法

```c++
#include <iostream>
#include <string>
#include <algorithm>
using namespace std;

const int MAXN = 1E6;
int ia[MAXN];
int ib[MAXN];
int ans[MAXN];

int main()
{
    string sa, sb;
    cin >> sa >> sb;
    if(sa == sb)
    {
        cout << "0";
        return 0;
    }
    int flag = 0;
    int la = sa.size();
    int lb = sb.size();
    //默认取sa大于sb，如果sb大于sa，那么需要交换，并且在输出结果前面加上-
    if(lb > la || (la == lb && sb > sa))
    {
        swap(sa, sb);
        swap(la, lb);
        flag = 1;
    }
    for(int i = 0; i < la; i++)
        ia[i] = sa[la - i - 1] - '0';
    for(int i = 0; i < lb; i++)
        ib[i] = sb[lb - i - 1] - '0';
    for(int i = 0; i < la; i++)
    {
        ia[i] -= ib[i];
        if(ia[i] < 0)
        {
            ia[i] += 10;
            ia[i + 1]--;
        }
    }
    int j = la - 1;;
    while(ia[j] == 0)
        j--;
    if(flag)
        cout << "-";
    for(;j >= 0; j--)
        printf("%d", ia[j]);
    return 0;
}
```

# 大数乘法

<img src="https://raw.githubusercontent.com/GreenHatHG/blog_image/master/1542849793970.jpg">

```c++
#include <iostream>
#include <algorithm>
#include <string>
#include <cstring>
using namespace std;

const int MAXN = 1E3;
int ia[MAXN];
int ib[MAXN];
int ic[MAXN];

int main()
{
    string sa, sb;
    cin >> sa >> sb;
    int la = sa.size();
    int lb = sb.size();
    memset(ia, 0, sizeof(ia));
    memset(ib, 0, sizeof(ib));
    //默认取sa大于sb，如果sb大于sa，那么需要交换，因为涉及到后面的2×la，方便处理
    if(lb > la || (lb == la && lb > la))
    {
        swap(sa, sb);
        swap(la, lb);
    }
    for(int i = 0; i < la; i++)
        ia[i] = sa[la - i - 1] - '0';
    for(int i = 0; i < lb; i++)
        ib[i] = sb[lb - i - 1] - '0';
    for(int i = 0; i < lb; i++)
    {
        for(int j = 0; j < la; j++)
        {
            ic[i + j] = ic[i + j] + ia[j] * ib[i];
        }
    }

    for(int i = 0; i < 2 * la; i++)
    {
        if(ic[i] > 10)
        {
            ic[i + 1] = ic[i + 1] + ic[i] / 10;
            ic[i] = ic[i] % 10;
        }
    }

    int j = 2 * la;
    while(ic[j] == 0)
        j--;
    if(j < 0)
    {
        cout << "0";
        return 0;
    }
    for(;j >= 0; j--)
        cout << ic[j];
    return 0;
}
```

# 大数除法

